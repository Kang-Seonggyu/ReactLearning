<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="test"></div>
</body>
<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
    // 작업할 영역 지정
    const test = document.getElementById("test");
    // CSS
    const styleTest = {
      display : "inline",
      background : "lightblue",
    }
    const centerAlign = {
      textAlign : "center",
    }
    const boxStyle = {
      border : "1px solid black",
      margin : "10px",
      textAlign : "center",
      background : "lightgray",
    }
    // 컴포넌트 ? 만들기
    function Title () {
          return (
                <h2
                    id="Title"
                    onMouseEnter={ () => console.log("Mouse Entered")}>
                  This is Title
                </h2>
          )
        } 
    
    const Logo = () => (
        <div >
            <img src="./osd_logo.png" />
            <h1 style={styleTest}>강성규</h1>
        </div>
    );
    /*
    const MouseClickTotal = () => (
      <div>
        Total Click : {counter}  
      </div>
    )
    const Btn = () => (<button 
                    id="btnClick" 
                    style = {{
                      backgroundColor : "lightgreen",
                    }}
                    onClick = { () => 
                      {console.log("MouseClicked"),
                      counter = counter + 1 }
                    } >
        Click Me</button>);
    */

    
    function MouseClick() {
      // [데이터, 함수] = React.useState( 데이터의 초기값 ) 
      const [counter, setCounter] = React.useState(0);
      const upClicked = () => {
        // 혹여나 나중에 막히는 일 생길 수 있음. 아래와 같이 함수 형태로 쓰는게 좋음.
        //setCounter(counter + 1);
        setCounter((current) => current +1);
      }
      const downClicked = () => {
        //setCounter(counter - 1);
        setCounter((current) => current -1);
      }

      return (
        <div style={boxStyle}>
          <h3>Total Clicked : {counter}</h3>
          <button onClick={upClicked}>Count Up</button>
          <button onClick={downClicked}>Count Down</button>
        </div>
      )
      
    }

    function Minute_And_Hour() {
      const [amount, setAmount] = React.useState(0);
      const [flipped, setFlipped] = React.useState(false);
      const valueChanged = (event) => {
        setAmount(event.target.value)
      }
      const reset = () => {
        setAmount(0)
      }
      const flip = () => {
        setFlipped((current) => !current);
        reset()
      }

      return (
        <div style={boxStyle}>
          <h2>Time Converter</h2>
          <div>
            <label htmlFor="Minutes">Minutes : </label>
            <input 
              value = { flipped ?  amount*60 : amount}
              id="Minutes" 
              placeholder="Minutes" 
              type="number"
              onChange = {valueChanged}  
              disabled={flipped}
            />
          </div>

          <div>
            <label htmlFor="Hours">Hours : </label>
            <input 
              value={ flipped ? amount : Math.floor(amount / 60)} 
              id="Hours" 
              placeholder="Hours" 
              type="number" 
              onChange = {valueChanged}
              disabled={!flipped}
            />
          </div>
          <button onClick={reset}>Reset</button>
          <button onClick={flip}>{flipped ? "Minute":"Hour"}</button>

        </div>
      )
    }
    
    function KM_TO_Mile() {
      const [amount, setAmount] = React.useState(0);
      const [flipped, setFlipped] = React.useState(false);
      const valueChanged = (event) => {
        setAmount(event.target.value)
      }
      const reset = () => {
        setAmount(0)
      }
      const flip = () => {
        setFlipped((current) => !current);
        reset()
      }

      return (
        <div style={boxStyle}>
          <h2>Distance Converter</h2>
          <div>

          </div> 
        </div>
      )
    }
    
    function App() {
      const [index, setIndex] = React.useState("0");
      const onSelect = (event) => {
        setIndex(event.target.value)
      }
      return (
        <div style={{
          backgroundColor : "lightblue",
          borderRadius : "30px",
        }}>
          <h1>Super Converter</h1>
          <select value={index} onChange={onSelect}>
            <option value="0">Minute & Hour </option>
            <option value="1">KM & Mile </option>
          </select>
          { index === "0" ? <Minute_And_Hour />: null}
          { index === "1" ? <KM_TO_Mile />: null}
        </div>
      )
    }

    // 화면에 어떤 것을 출력할 것인가를 설정.
    const TestView = (
      <div style={centerAlign}>
        <Title />
        <Logo />
        <MouseClick />
        <App />
        <button>소문자는 jsx에서 그냥 태그 !</button>
      </div>
    )
    ReactDOM.render(TestView, test);
  </script>
</html>